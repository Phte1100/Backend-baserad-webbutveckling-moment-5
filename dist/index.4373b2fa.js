function e(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}var t=globalThis,n={},o={},r=t.parcelRequireb44e;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},t.parcelRequireb44e=r);var i=r.register;i("auqt6",function(e,t){var n=r("bJ4yP");document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("bookingForm");e&&e.addEventListener("submit",function(e){e.preventDefault(),(0,n.createBooking)()});let t=document.getElementById("updateButton");t&&t.addEventListener("click",function(){(0,n.updateBooking)()})})}),i("bJ4yP",function(t,n){function o(e){let t=document.getElementById("snackbar");t.textContent=e,t.className="show",setTimeout(()=>{t.className=t.className.replace("show","")},3e3)}function r(){let e=localStorage.getItem("token");if(!e){window.location.href="login.html";return}fetch("https://backend-baserad-webbutveckling-moment-5.onrender.com/api/bookings",{headers:{Authorization:`Bearer ${e}`}}).then(e=>{if(!e.ok)throw Error(`Failed to fetch bookings. Status: ${e.status}`);return e.json()}).then(e=>{(function(e){let t=document.getElementById("bookingsList");if(!t){console.warn('Element with id "bookingsList" not found');return}t.innerHTML="",e.forEach(e=>{let n=document.createElement("li");n.innerHTML=`
            ${e.name} - ${e.date.split("T")[0]} - ${e.time} - ${e.numberOfPeople} personer
            <span class="material-icons edit-booking-icon" data-bookingid="${e._id}">refresh</span>
            <span class="material-icons delete-booking-icon" data-bookingid="${e._id}">delete</span>
        <hr>
            `,t.appendChild(n)}),function(){let e=document.querySelectorAll(".delete-booking-icon"),t=document.querySelectorAll(".edit-booking-icon");if(0===e.length||0===t.length){console.warn("No delete or edit icons found");return}e.forEach(e=>{e.addEventListener("click",function(){!function(e){console.log(`Delete booking ID: ${e}`);let t=localStorage.getItem("token");if(!t){console.log("No token found, redirecting to login."),window.location.href="login.html";return}fetch(`https://backend-baserad-webbutveckling-moment-5.onrender.com/api/bookings/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}}).then(e=>{if(!e.ok)throw Error("Failed to delete booking. Status: "+e.status);r(),o("Bokning raderad!")}).catch(e=>{console.error("Error:",e)})}(this.getAttribute("data-bookingid"))})}),t.forEach(e=>{e.addEventListener("click",function(){(function(e){console.log(`Editing booking ID: ${e}`);let t=localStorage.getItem("token");if(!t){console.log("No token found, redirecting to login."),window.location.href="login.html";return}fetch(`https://backend-baserad-webbutveckling-moment-5.onrender.com/api/bookings/${e}`,{headers:{Authorization:`Bearer ${t}`}}).then(e=>{if(!e.ok)throw Error("Failed to fetch booking. Status: "+e.status);return e.json()}).then(e=>{document.getElementById("bookingId").value=e._id,document.getElementById("name").value=e.name,document.getElementById("phone").value=e.phone,document.getElementById("email").value=e.email,document.getElementById("numberOfPeople").value=e.numberOfPeople,document.getElementById("date").value=e.date.split("T")[0],document.getElementById("time").value=e.time,document.getElementById("updateButton").style.display="block",document.getElementById("bookingForm").querySelector('button[type="submit"]').style.display="none"}).catch(e=>{console.error("Error:",e)})})(this.getAttribute("data-bookingid"))})})}()})(e)}).catch(e=>{console.error("Error:",e)})}function i(){let e=d(document.getElementById("name").value),t=d(document.getElementById("phone").value),n=d(document.getElementById("email").value),i=d(document.getElementById("numberOfPeople").value),a=d(document.getElementById("date").value),c=d(document.getElementById("time").value);console.log("Creating booking with data:",{name:e,phone:t,email:n,numberOfPeople:i,date:a,time:c}),fetch("https://backend-baserad-webbutveckling-moment-5.onrender.com/api/bookings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,phone:t,email:n,numberOfPeople:i,date:a,time:c})}).then(e=>{if(!e.ok)throw Error("Failed to create booking. Status: "+e.status);return e.json()}).then(e=>{console.log("Booking created:",e),o("Bokning skapad!"),l(),localStorage.getItem("token")&&r()}).catch(e=>{console.error("Error:",e),o("Något gick fel. Försök igen.")})}function a(){let e=localStorage.getItem("token");if(!e){console.log("No token found, redirecting to login."),window.location.href="login.html";return}let t=document.getElementById("bookingId").value,n=document.getElementById("name").value,i=document.getElementById("phone").value,a=document.getElementById("email").value;fetch(`https://backend-baserad-webbutveckling-moment-5.onrender.com/api/bookings/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({name:n,phone:i,email:a,numberOfPeople:document.getElementById("numberOfPeople").value,date:document.getElementById("date").value,time:document.getElementById("time").value})}).then(e=>{if(!e.ok)throw Error("Failed to update booking. Status: "+e.status);return e.json()}).then(e=>{console.log("Booking updated:",e),r(),l(),o("Bokning uppdaterad!"),document.getElementById("updateButton").style.display="none",document.getElementById("bookingForm").querySelector('button[type="submit"]').style.display="block"}).catch(e=>{console.error("Error:",e)})}function l(){let e=document.getElementById("bookingId"),t=document.getElementById("name"),n=document.getElementById("phone"),o=document.getElementById("email"),r=document.getElementById("numberOfPeople"),i=document.getElementById("date"),a=document.getElementById("time");e&&(e.value=""),t&&(t.value=""),n&&(n.value=""),o&&(o.value=""),r&&(r.value="1"),i&&(i.value=""),a&&(a.value="")}function d(e){return e?e.replace(/(<([^>]+)>)/ig,""):""}e(t.exports,"fetchBookings",()=>r),e(t.exports,"createBooking",()=>i),e(t.exports,"updateBooking",()=>a)}),i("cpMDl",function(t,n){e(t.exports,"fetchMenuItems",()=>a),e(t.exports,"updateMenuItem",()=>l),e(t.exports,"sanitizeInput",()=>c),e(t.exports,"clearMenuForm",()=>d);var o=r("ekglj");document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("menuSection"),t=document.getElementById("menuItemsList");e||t?a():console.error('Neither "menuSection" nor "menuItemsList" found on this page.')});let i=[];function a(){fetch("https://backend-baserad-webbutveckling-moment-5.onrender.com/api/menu").then(e=>{if(!e.ok)throw Error(`Failed to fetch menu items. Status: ${e.status}`);return e.json()}).then(e=>{i=e,document.getElementById("menuSection")&&function(e){let t=document.getElementById("menuSection");t&&(t.innerHTML="",e.forEach(e=>{let n=document.createElement("article");n.innerHTML=`
        <h3>${e.name}</h3>
        <p>${e.description}</p>
        <p>${e.price} kr</p>
        `,t.appendChild(n)}))}(i),document.getElementById("menuItemsList")&&function(e){let t=document.getElementById("menuItemsList");if(!t){console.error('Element with id "menuItemsList" not found');return}t.innerHTML="",e.forEach(e=>{let n=document.createElement("li");n.innerHTML=`
            ${e.name} - ${e.description} - ${e.price} kr - ${e.category}
            <br>
            <span class="material-icons edit-menu-icon" data-menuid="${e._id}">refresh</span>
            <span class="material-icons delete-menu-icon" data-menuid="${e._id}">delete</span>
            <hr>
            `,t.appendChild(n)}),function(){let e=document.querySelectorAll(".delete-menu-icon"),t=document.querySelectorAll(".edit-menu-icon");e.forEach(e=>{e.addEventListener("click",function(){(function(e){console.log(`Delete menu item ID: ${e}`);let t=localStorage.getItem("token");if(!t){console.log("No token found, redirecting to login."),window.location.href="login.html";return}fetch(`https://backend-baserad-webbutveckling-moment-5.onrender.com/api/menu/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}}).then(e=>{if(!e.ok)throw Error("Failed to delete menu item. Status: "+e.status);a(),(0,o.showSnackbar)("Menyalternativ raderad!")}).catch(e=>{console.error("Error:",e),(0,o.showSnackbar)("Något gick fel. Försök igen.")})})(this.getAttribute("data-menuid"))})}),t.forEach(e=>{e.addEventListener("click",function(){(function(e){console.log(`Editing menu item ID: ${e}`);let t=localStorage.getItem("token");if(!t){console.log("No token found, redirecting to login."),window.location.href="login.html";return}fetch(`https://backend-baserad-webbutveckling-moment-5.onrender.com/api/menu/${e}`,{headers:{Authorization:`Bearer ${t}`}}).then(e=>{if(!e.ok)throw Error("Failed to fetch menu item. Status: "+e.status);return e.json()}).then(e=>{document.getElementById("menuId").value=e._id,document.getElementById("menuName").value=e.name,document.getElementById("description").value=e.description,document.getElementById("price").value=e.price,document.getElementById("category").value=e.category,document.getElementById("updateMenuButton").style.display="block",document.getElementById("menuForm").querySelector('button[type="submit"]').style.display="none"}).catch(e=>{console.error("Error:",e)})})(this.getAttribute("data-menuid"))})})}()}(i)}).catch(e=>{console.error("Error:",e)})}function l(){let e=localStorage.getItem("token");if(!e){window.location.href="login.html";return}let t=document.getElementById("menuId").value,n=c(document.getElementById("menuName").value);fetch(`https://backend-baserad-webbutveckling-moment-5.onrender.com/api/menu/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({name:n,description:c(document.getElementById("description").value),price:c(document.getElementById("price").value),category:c(document.getElementById("category").value)})}).then(e=>{if(!e.ok)throw Error("Failed to update menu item. Status: "+e.status);return e.json()}).then(e=>{console.log("Menu item updated:",e),a(),d(),(0,o.showSnackbar)("Menyalternativ uppdaterad!")}).catch(e=>{console.error("Error:",e),(0,o.showSnackbar)("Något gick fel. Försök igen.")})}function d(){document.getElementById("menuId").value="",document.getElementById("menuName").value="",document.getElementById("description").value="",document.getElementById("price").value="",document.getElementById("category").value="",document.getElementById("updateMenuButton").style.display="none",document.getElementById("menuForm").querySelector('button[type="submit"]').style.display="block"}function c(e){return e?e.replace(/(<([^>]+)>)/ig,""):""}}),i("ekglj",function(t,n){function o(){var e=document.getElementById("myTopnav");"topnav"===e.className?e.className+=" responsive":e.className="topnav"}function r(e){var t=document.getElementById("snackbar");t.textContent=e,t.className="show",setTimeout(function(){t.className=t.className.replace("show","")},3e3)}function i(e){return e?e.replace(/(<([^>]+)>)/ig,""):""}e(t.exports,"myFunction",()=>o),e(t.exports,"showSnackbar",()=>r),e(t.exports,"sanitizeInput",()=>i)}),r("auqt6"),r("cpMDl");var a=r("ekglj");window.myFunction=a.myFunction,window.showSnackbar=a.showSnackbar,window.sanitizeInput=a.sanitizeInput;
//# sourceMappingURL=index.4373b2fa.js.map
