{"mappings":"AAAA,SAAS,gBAAgB,CAAC,oBAAoB;IAC1C,MAAM,YAAY,SAAS,cAAc,CAAC;IAC1C,MAAM,eAAe,SAAS,cAAc,CAAC;IAC7C,MAAM,eAAe,SAAS,cAAc,CAAC;IAE7C,IAAI,WACA,UAAU,gBAAgB,CAAC,UAAU,CAAC;QAClC,MAAM,cAAc;QACpB,MAAM,WAAW,SAAS,cAAc,CAAC,YAAY,KAAK;QAC1D,MAAM,WAAW,SAAS,cAAc,CAAC,YAAY,KAAK;QAC1D,UAAU,UAAU;IACxB;IAGJ,IAAI,cACA,aAAa,gBAAgB,CAAC,UAAU,CAAC;QACrC,MAAM,cAAc;QACpB,MAAM,WAAW,SAAS,cAAc,CAAC,YAAY,KAAK;QAC1D,MAAM,QAAQ,SAAS,cAAc,CAAC,SAAS,KAAK;QACpD,MAAM,WAAW,SAAS,cAAc,CAAC,YAAY,KAAK;QAC1D,aAAa,UAAU,OAAO;IAClC;AAER;AACA,4BAA4B;AAC5B,SAAS,UAAU,QAAQ,EAAE,QAAQ;IACjC,MAAM,CAAC,sEAAsE,CAAC,EAAE;QAC5E,QAAQ;QACR,SAAS;YACL,gBAAgB;QACpB;QACA,MAAM,KAAK,SAAS,CAAC;YAAE;YAAU;QAAS;IAC9C,GACC,IAAI,CAAC,CAAA;QACF,IAAI,CAAC,SAAS,EAAE,EACZ,MAAM,IAAI,MAAM,wCAAwC,SAAS,MAAM;QAE3E,OAAO,SAAS,IAAI;IACxB,GACC,IAAI,CAAC,CAAA;QACF,IAAI,KAAK,KAAK,EAAE;YACZ,QAAQ,GAAG,CAAC,cAAc,KAAK,KAAK;YACpC,aAAa,OAAO,CAAC,SAAS,KAAK,KAAK;YACxC,OAAO,QAAQ,CAAC,IAAI,GAAG;QAC3B,OACI,MAAM,IAAI,MAAM;IAExB,GACC,KAAK,CAAC,CAAA;QACH,QAAQ,KAAK,CAAC,uBAAuB,MAAM,OAAO;QAClD,MAAM,WAAW,SAAS,cAAc,CAAC;QACzC,SAAS,WAAW,GAAG;IAC3B;AACJ;AAEA,2CAA2C;AAC3C,SAAS,aAAa,QAAQ,EAAE,KAAK,EAAE,QAAQ;IAC3C,MAAM,6EAA6E;QAC/E,QAAQ;QACR,SAAS;YACL,gBAAgB;QACpB;QACA,MAAM,KAAK,SAAS,CAAC;YAAE;YAAU;YAAO;QAAS;IACrD,GACC,IAAI,CAAC,CAAA,WAAY,SAAS,IAAI,IAC9B,IAAI,CAAC,CAAA;QACF,MAAM,WAAW,SAAS,cAAc,CAAC;QACzC,SAAS,WAAW,GAAG;QACvB,WAAW;YACP,OAAO,QAAQ,CAAC,IAAI,GAAG,wBAAwB,mCAAmC;QACtF,GAAG,OAAO,qCAAqC;IACnD,GACC,KAAK,CAAC,CAAA;QACH,QAAQ,KAAK,CAAC,yBAAyB,MAAM,OAAO;QACpD,MAAM,WAAW,SAAS,cAAc,CAAC;QACzC,SAAS,WAAW,GAAG,2BAA2B,MAAM,OAAO;IACnE;AACJ","sources":["src/js/app.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\r\n    const loginForm = document.getElementById('loginForm');\r\n    const registerForm = document.getElementById('registerForm');\r\n    const formFeedback = document.getElementById('formFeedback');\r\n\r\n    if (loginForm) {\r\n        loginForm.addEventListener('submit', (event) => {\r\n            event.preventDefault();\r\n            const username = document.getElementById('username').value;\r\n            const password = document.getElementById('password').value;\r\n            loginUser(username, password);        \r\n        });\r\n    }\r\n\r\n    if (registerForm) {\r\n        registerForm.addEventListener('submit', (event) => {\r\n            event.preventDefault();\r\n            const username = document.getElementById('username').value;\r\n            const email = document.getElementById('email').value;\r\n            const password = document.getElementById('password').value;\r\n            registerUser(username, email, password);\r\n        });\r\n    }\r\n});\r\n// Funktion för att logga in\r\nfunction loginUser(username, password) {\r\n    fetch(`https://backend-baserad-webbutveckling-moment-5.onrender.com/api/login`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ username, password })\r\n    })\r\n    .then(response => {\r\n        if (!response.ok) {\r\n            throw new Error('Inloggningen misslyckades. Status: ' + response.status);\r\n        }\r\n        return response.json();\r\n    })\r\n    .then(data => {\r\n        if (data.token) {\r\n            console.log('JWT Token:', data.token);\r\n            localStorage.setItem('token', data.token);\r\n            window.location.href = '/src/html/dashboard.html';\r\n        } else {\r\n            throw new Error('Inget token mottaget');\r\n        }\r\n    })\r\n    .catch(error => {\r\n        console.error('Fel vid inloggning:', error.message);\r\n        const Feedback = document.getElementById('Feedback');\r\n        Feedback.textContent = 'Fel användarnamn/lösenord! Prova igen!';\r\n    });\r\n}\r\n\r\n// Funktion för att registrera ny användare\r\nfunction registerUser(username, email, password) {\r\n    fetch('https://backend-baserad-webbutveckling-moment-5.onrender.com/api/register', {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ username, email, password })\r\n    })\r\n    .then(response => response.json())\r\n    .then(data => {\r\n        const Feedback = document.getElementById('Feedback');\r\n        Feedback.textContent = 'Registreringen lyckades! Vänligen logga in.';\r\n        setTimeout(() => {\r\n            window.location.href = '/src/html/login.html'; // Omdirigera till inloggningssidan\r\n        }, 1000); // Vänta en sekund innan omdirigering\r\n    })\r\n    .catch(error => {\r\n        console.error('Fel vid registrering:', error.message);\r\n        const Feedback = document.getElementById('Feedback');\r\n        Feedback.textContent = 'Fel vid registrering: ' + error.message;\r\n    });\r\n}\r\n"],"names":[],"version":3,"file":"login.8f0c9192.js.map","sourceRoot":"/__parcel_source_root/"}