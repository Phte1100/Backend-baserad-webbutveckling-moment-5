{"mappings":"ACAA,SAAS,gBAAgB,CAAC,mBAAoB,KAC1C,IAAM,EAAY,SAAS,cAAc,CAAC,aACpC,EAAe,SAAS,cAAc,CAAC,gBACxB,SAAS,cAAc,CAAC,gBAEzC,GACA,EAAU,gBAAgB,CAAC,SAAU,AAAC,IAClC,EAAM,cAAc,GAGpB,AAeZ,SAAmB,CAAQ,CAAE,CAAQ,EACjC,MAAM,yEAA0E,CAC5E,OAAQ,OACR,QAAS,CACL,eAAgB,kBACpB,EACA,KAAM,KAAK,SAAS,CAAC,CAAE,SAAA,EAAU,SAAA,CAAS,EAC9C,GACC,IAAI,CAAC,AAAA,IACF,GAAI,CAAC,EAAS,EAAE,CACZ,MAAM,AAAI,MAAM,sCAAwC,EAAS,MAAM,EAE3E,OAAO,EAAS,IAAI,EACxB,GACC,IAAI,CAAC,AAAA,IACF,GAAI,EAAK,KAAK,CACV,QAAQ,GAAG,CAAC,aAAc,EAAK,KAAK,EACpC,aAAa,OAAO,CAAC,QAAS,EAAK,KAAK,EACxC,OAAO,QAAQ,CAAC,IAAI,CAAG,gCAEvB,MAAM,AAAI,MAAM,uBAExB,GACC,KAAK,CAAC,AAAA,IACH,QAAQ,KAAK,CAAC,sBAAuB,EAAM,OAAO,EAElD,AADiB,SAAS,cAAc,CAAC,YAChC,WAAW,CAAG,wCAC3B,EACJ,EA7C6B,SAAS,cAAc,CAAC,YAAY,KAAK,CACzC,SAAS,cAAc,CAAC,YAAY,KAAK,CAE9D,GAGA,GACA,EAAa,gBAAgB,CAAC,SAAU,AAAC,IACrC,EAAM,cAAc,GAIpB,AAoCZ,SAAsB,CAAQ,CAAE,CAAK,CAAE,CAAQ,EAC3C,MAAM,4EAA6E,CAC/E,OAAQ,OACR,QAAS,CACL,eAAgB,kBACpB,EACA,KAAM,KAAK,SAAS,CAAC,CAAE,SAAA,EAAU,MAAA,EAAO,SAAA,CAAS,EACrD,GACC,IAAI,CAAC,AAAA,GAAY,EAAS,IAAI,IAC9B,IAAI,CAAC,AAAA,IAEF,AADiB,SAAS,cAAc,CAAC,YAChC,WAAW,CAAG,8CACvB,WAAW,KACP,OAAO,QAAQ,CAAC,IAAI,CAAG,sBAC3B,EAAG,IACP,GACC,KAAK,CAAC,AAAA,IACH,QAAQ,KAAK,CAAC,wBAAyB,EAAM,OAAO,EAEpD,AADiB,SAAS,cAAc,CAAC,YAChC,WAAW,CAAG,yBAA2B,EAAM,OAAO,AACnE,EACJ,EA5D6B,SAAS,cAAc,CAAC,YAAY,KAAK,CAC5C,SAAS,cAAc,CAAC,SAAS,KAAK,CACnC,SAAS,cAAc,CAAC,YAAY,KAAK,CAE9D,EAER","sources":["<anon>","src/js/app.js"],"sourcesContent":["var $388b617130f03bd4$exports = {};\ndocument.addEventListener(\"DOMContentLoaded\", ()=>{\n    const loginForm = document.getElementById(\"loginForm\");\n    const registerForm = document.getElementById(\"registerForm\");\n    const formFeedback = document.getElementById(\"formFeedback\");\n    if (loginForm) loginForm.addEventListener(\"submit\", (event)=>{\n        event.preventDefault();\n        const username = document.getElementById(\"username\").value;\n        const password = document.getElementById(\"password\").value;\n        $388b617130f03bd4$var$loginUser(username, password);\n    });\n    if (registerForm) registerForm.addEventListener(\"submit\", (event)=>{\n        event.preventDefault();\n        const username = document.getElementById(\"username\").value;\n        const email = document.getElementById(\"email\").value;\n        const password = document.getElementById(\"password\").value;\n        $388b617130f03bd4$var$registerUser(username, email, password);\n    });\n});\n// Funktion för att logga in\nfunction $388b617130f03bd4$var$loginUser(username, password) {\n    fetch(`https://backend-baserad-webbutveckling-moment-5.onrender.com/api/login`, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            username: username,\n            password: password\n        })\n    }).then((response)=>{\n        if (!response.ok) throw new Error(\"Inloggningen misslyckades. Status: \" + response.status);\n        return response.json();\n    }).then((data)=>{\n        if (data.token) {\n            console.log(\"JWT Token:\", data.token);\n            localStorage.setItem(\"token\", data.token);\n            window.location.href = \"/src/html/dashboard.html\";\n        } else throw new Error(\"Inget token mottaget\");\n    }).catch((error)=>{\n        console.error(\"Fel vid inloggning:\", error.message);\n        const Feedback = document.getElementById(\"Feedback\");\n        Feedback.textContent = \"Fel anv\\xe4ndarnamn/l\\xf6senord! Prova igen!\";\n    });\n}\n// Funktion för att registrera ny användare\nfunction $388b617130f03bd4$var$registerUser(username, email, password) {\n    fetch(\"https://backend-baserad-webbutveckling-moment-5.onrender.com/api/register\", {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            username: username,\n            email: email,\n            password: password\n        })\n    }).then((response)=>response.json()).then((data)=>{\n        const Feedback = document.getElementById(\"Feedback\");\n        Feedback.textContent = \"Registreringen lyckades! V\\xe4nligen logga in.\";\n        setTimeout(()=>{\n            window.location.href = \"/src/html/login.html\"; // Omdirigera till inloggningssidan\n        }, 1000); // Vänta en sekund innan omdirigering\n    }).catch((error)=>{\n        console.error(\"Fel vid registrering:\", error.message);\n        const Feedback = document.getElementById(\"Feedback\");\n        Feedback.textContent = \"Fel vid registrering: \" + error.message;\n    });\n}\n\n\n//# sourceMappingURL=register.1961664c.js.map\n","document.addEventListener('DOMContentLoaded', () => {\r\n    const loginForm = document.getElementById('loginForm');\r\n    const registerForm = document.getElementById('registerForm');\r\n    const formFeedback = document.getElementById('formFeedback');\r\n\r\n    if (loginForm) {\r\n        loginForm.addEventListener('submit', (event) => {\r\n            event.preventDefault();\r\n            const username = document.getElementById('username').value;\r\n            const password = document.getElementById('password').value;\r\n            loginUser(username, password);        \r\n        });\r\n    }\r\n\r\n    if (registerForm) {\r\n        registerForm.addEventListener('submit', (event) => {\r\n            event.preventDefault();\r\n            const username = document.getElementById('username').value;\r\n            const email = document.getElementById('email').value;\r\n            const password = document.getElementById('password').value;\r\n            registerUser(username, email, password);\r\n        });\r\n    }\r\n});\r\n// Funktion för att logga in\r\nfunction loginUser(username, password) {\r\n    fetch(`https://backend-baserad-webbutveckling-moment-5.onrender.com/api/login`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ username, password })\r\n    })\r\n    .then(response => {\r\n        if (!response.ok) {\r\n            throw new Error('Inloggningen misslyckades. Status: ' + response.status);\r\n        }\r\n        return response.json();\r\n    })\r\n    .then(data => {\r\n        if (data.token) {\r\n            console.log('JWT Token:', data.token);\r\n            localStorage.setItem('token', data.token);\r\n            window.location.href = '/src/html/dashboard.html';\r\n        } else {\r\n            throw new Error('Inget token mottaget');\r\n        }\r\n    })\r\n    .catch(error => {\r\n        console.error('Fel vid inloggning:', error.message);\r\n        const Feedback = document.getElementById('Feedback');\r\n        Feedback.textContent = 'Fel användarnamn/lösenord! Prova igen!';\r\n    });\r\n}\r\n\r\n// Funktion för att registrera ny användare\r\nfunction registerUser(username, email, password) {\r\n    fetch('https://backend-baserad-webbutveckling-moment-5.onrender.com/api/register', {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ username, email, password })\r\n    })\r\n    .then(response => response.json())\r\n    .then(data => {\r\n        const Feedback = document.getElementById('Feedback');\r\n        Feedback.textContent = 'Registreringen lyckades! Vänligen logga in.';\r\n        setTimeout(() => {\r\n            window.location.href = '/src/html/login.html'; // Omdirigera till inloggningssidan\r\n        }, 1000); // Vänta en sekund innan omdirigering\r\n    })\r\n    .catch(error => {\r\n        console.error('Fel vid registrering:', error.message);\r\n        const Feedback = document.getElementById('Feedback');\r\n        Feedback.textContent = 'Fel vid registrering: ' + error.message;\r\n    });\r\n}\r\n"],"names":["document","addEventListener","loginForm","getElementById","registerForm","event","preventDefault","$388b617130f03bd4$var$loginUser","username","password","fetch","method","headers","body","JSON","stringify","then","response","ok","Error","status","json","data","token","console","log","localStorage","setItem","window","location","href","catch","error","message","Feedback","textContent","value","$388b617130f03bd4$var$registerUser","email","setTimeout"],"version":3,"file":"register.1961664c.js.map"}