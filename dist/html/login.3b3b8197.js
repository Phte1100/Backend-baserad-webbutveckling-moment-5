document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("loginForm"),t=document.getElementById("registerForm");document.getElementById("formFeedback"),e&&e.addEventListener("submit",e=>{e.preventDefault(),function(e,t){fetch("https://backend-baserad-webbutveckling-moment-5.onrender.com/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}).then(e=>{if(!e.ok)throw Error("Inloggningen misslyckades. Status: "+e.status);return e.json()}).then(e=>{if(e.token)console.log("JWT Token:",e.token),localStorage.setItem("token",e.token),window.location.href="/src/html/dashboard.html";else throw Error("Inget token mottaget")}).catch(e=>{console.error("Fel vid inloggning:",e.message),document.getElementById("Feedback").textContent="Fel användarnamn/lösenord! Prova igen!"})}(document.getElementById("username").value,document.getElementById("password").value)}),t&&t.addEventListener("submit",e=>{e.preventDefault(),function(e,t,n){fetch("https://backend-baserad-webbutveckling-moment-5.onrender.com/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,email:t,password:n})}).then(e=>e.json()).then(e=>{document.getElementById("Feedback").textContent="Registreringen lyckades! Vänligen logga in.",setTimeout(()=>{window.location.href="/src/html/login.html"},1e3)}).catch(e=>{console.error("Fel vid registrering:",e.message),document.getElementById("Feedback").textContent="Fel vid registrering: "+e.message})}(document.getElementById("username").value,document.getElementById("email").value,document.getElementById("password").value)})});
//# sourceMappingURL=login.3b3b8197.js.map
